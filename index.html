
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>抽籤筒（安全音效）</title>
</head>
<body>
  <h1>抽籤筒網站測試</h1>
  <button onclick="playSound('shake')">播放搖籤聲</button>
  <button onclick="playSound('draw')">播放抽籤聲</button>
  <button onclick="playSound('click')">播放點擊聲</button>
  <button onclick="playSound('reset')">播放重置聲</button>

  <script>
    const sounds = {};

    const soundFiles = {
      shake: 'shake.mp3',
      draw: 'draw.mp3',
      click: 'click.mp3',
      reset: 'reset.mp3'
    };

    for (const key in soundFiles) {
      const audio = new Audio();
      audio.src = soundFiles[key];
      audio.addEventListener('error', () => {
        console.warn(`音效檔 ${soundFiles[key]} 載入失敗，將略過播放`);
        sounds[key] = null;
      });
      audio.addEventListener('canplaythrough', () => {
        sounds[key] = audio;
      });
    }

    function playSound(type) {
      const sound = sounds[type];
      if (sound) {
        sound.currentTime = 0;
        sound.play().catch(err => console.log('播放失敗:', err));
      } else {
        console.log(`音效「${type}」目前未載入，略過播放`);
      }
    }
  </script>
</body>
</html>
